<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Accessible Star Rating with Font Awesome</title>
    <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
    <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css'>
    <style type="text/css">
      .star-rating {
        line-height:32px;
        font-size:2em;
        cursor: pointer;
      }
      .fa-star {
          color: #f0ad4e;
          background: -webkit-linear-gradient(-45deg, #fcb551 0%, #d69a45 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
      }
      .fa-star-o {
          color: #ccc;
          background: -webkit-linear-gradient(-45deg, #d9d9d9 0%, #b3b3b3 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
      }
    </style>
</head>
<body>
  <div class="star-rating">
    <span class="fa fa-star-o" data-rating="1" tabindex="-1" aria-label="1 Star"></span>
    <span class="fa fa-star-o" data-rating="2" tabindex="-1" aria-label="2 Star"></span>
    <span class="fa fa-star-o" data-rating="3" tabindex="-1" aria-label="3 Star"></span>
    <span class="fa fa-star-o" data-rating="4" tabindex="-1" aria-label="4 Star"></span>
    <span class="fa fa-star-o" data-rating="5" tabindex="-1" aria-label="5 Star"></span>
    <input type="hidden" name="rating" id="rating" class="rating-value" value="3">
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>
  <script>
    var $star_rating = $('.star-rating .fa');

    var SetRatingStar = function() {
      return $star_rating.each(function() {
        if (parseInt($star_rating.siblings('input.rating-value').val()) == parseInt($(this).data('rating'))) {
          $(this).attr('tabindex', 0);
          $(this).focus();
          return $(this).removeClass('fa-star-o').addClass('fa-star');
        } else if (parseInt($star_rating.siblings('input.rating-value').val()) > parseInt($(this).data('rating'))) {
          if ($star_rating.siblings('input.rating-value').val() == "" && parseInt($(this).data('rating')) == 1){
            $(this).attr('tabindex', 0);
          } else {
            $(this).attr('tabindex', -1);
          }
          return $(this).removeClass('fa-star-o').addClass('fa-star');
        } else {
          if ($star_rating.siblings('input.rating-value').val() == "" && parseInt($(this).data('rating')) == 1){
            $(this).attr('tabindex', 0);
          } else {
            $(this).attr('tabindex', -1);
          }
          return $(this).removeClass('fa-star').addClass('fa-star-o');
        };
      });
    };

    $star_rating.on('click keyup', function(event) {
      if (event.which === 0 || event.which === 1 || event.which === 32 || event.which === 13) {
        event.preventDefault();
        if ($star_rating.siblings('input.rating-value').val() == $(this).data('rating')){
          $star_rating.siblings('input.rating-value').val("");
          return SetRatingStar();
        } else {
          $star_rating.siblings('input.rating-value').val($(this).data('rating'));
          return SetRatingStar();
        }
      } else if (event.which === 37 || event.which === 40) {
        $star_rating.siblings('input.rating-value').val( (parseInt($star_rating.siblings('input.rating-value').val()))-1 );
        return SetRatingStar();
      } else if (event.which === 39 || event.which === 38) {
        $star_rating.siblings('input.rating-value').val( (parseInt($star_rating.siblings('input.rating-value').val()))+1 );
        return SetRatingStar();
      }
    });

    SetRatingStar();
  </script>
</body>

</html>